- status = local_assigns.fetch(:status)
- link = local_assigns.fetch(:link, true)
- css_classes = "js-ci-status-code ci-status ci-#{status.group}"

- if link && status.has_details?
  = link_to status.details_path, class: css_classes, data: { status: status.group } do
    = custom_icon(status.icon)
    = status.text
- else
  %span{ class: css_classes, data: { status: status.group } }
    = custom_icon(status.icon)
    = status.text
